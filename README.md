# üê≥ Docker Pinger
üì° **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å API, –ø–∏–Ω–≥–∞–º–∏ –∏ UI**  

## üìå –û–ø–∏—Å–∞–Ω–∏–µ  
–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**.  
–û–Ω –ø–æ–ª—É—á–∞–µ—Ç **IP –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**, **–ø–∏–Ω–≥—É–µ—Ç –∏—Ö**, **—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ PostgreSQL** –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è.  

---

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å  
‚úîÔ∏è –ü–æ–ª—É—á–µ–Ω–∏–µ **IP-–∞–¥—Ä–µ—Å–æ–≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**  
‚úîÔ∏è **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π –ø–∏–Ω–≥** –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (—á–µ—Ä–µ–∑ `pro-bing`)  
‚úîÔ∏è **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** (IP, –≤—Ä–µ–º—è –ø–∏–Ω–≥–∞, –ø–æ—Å–ª–µ–¥–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞) –≤ PostgreSQL  
‚úîÔ∏è **REST API (–Ω–∞ Go, `gorilla/mux`)** –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è  
‚úîÔ∏è **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (React, Mantine UI)**  

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏  
- üêπ **Backend**: Go (`gorilla/mux`, `sqlx`, `pgx`)  
- üê≥ **DB**: PostgreSQL  
- üåê **Frontend**: React + TypeScript + Mantine UI + nginx
- üì° **Pinger**: `prometheus-community/pro-bing`  
- üîÑ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: `log` + —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤  
- üîÑ **–†–µ—Ç—Ä–∞–∏ API-–∑–∞–ø—Ä–æ—Å–æ–≤**: `cenkalti/backoff/v4`  

---

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ Docker –∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ **Docker Compose**.

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
- **Docker** ([—Å–∫–∞—á–∞—Ç—å](https://docs.docker.com/get-docker/))
- **Docker Compose** ([—É—Å—Ç–∞–Ω–æ–≤–∫–∞](https://docs.docker.com/compose/install/))

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Ö –≤–µ—Ä—Å–∏–∏:
```sh
docker --version
docker compose version
```
### 2. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
```sh
git clone https://github.com/
cd ...
```
### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –ø–∞–ø–∫–µ pinger-site/ –∏ –¥–æ–±–∞–≤—å—Ç–µ API-URL:
```sh
echo "VITE_API_URL=http://localhost:4000" > pinger-site/.env
```
–ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –Ω–∞ –∫–∞–∫–æ–º-—Ç–æ –¥–æ–º–µ–Ω–µ –º–µ—Å—Ç–æ `localhost` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à `URL`
### 4. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
```sh
sudo docker compose up --build
```
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã:

- –§—Ä–æ–Ω—Ç–µ–Ω–¥ (React) ‚Üí http://localhost:3000
- –ë—ç–∫–µ–Ω–¥ (Go API) ‚Üí http://localhost:4000
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL) ‚Üí localhost:5432, –ª–æ–≥–∏–Ω: myuser, –ø–∞—Ä–æ–ª—å: lolkek666
- ### 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
```sh
sudo docker ps
```
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API —Å–µ—Ä–≤–µ—Ä–∞:
```sh
curl http://localhost:4000/api/pings
```
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ pinger:
```sh
sudo docker logs -f pinger
```
–í–º–µ—Å—Ç–æ `pinger` –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –æ—Ç–≤–µ—á–∞—é—â–µ–≥–æ –∑–∞ –Ω–µ–≥–æ.
- –ó–∞–π—Ç–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø–∏—Å–∏:
```sh
sudo docker exec -it pingdb psql -U myuser -d pingdb
```
### 6. –ö–∞–∫ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
```sh
sudo docker compose down
```
- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å –æ—á–∏—Å—Ç–∫–æ–π –±–¥ (–¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã):
```sh
sudo docker compose down -v
```
## License

This project is licensed under the terms of the **MIT** license. See the [LICENSE](LICENSE) for more information.
